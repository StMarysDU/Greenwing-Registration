<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Greenwing Youth Event Registration</title>
  <style>
    /* =======================
       PAGE & BACKGROUND 
    ======================== */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }
    body {
      /* Use the flyer image as the background using the specified path */
      background: url('Image/Greenwing flier 2025.png') no-repeat center center;
      background-size: cover;
      background-attachment: fixed;
      background-color: #f0f8f7; /* Fallback background color */
    }

    /* =======================
       MAIN CONTAINER 
    ======================== */
    .container {
      max-width: 900px;
      margin: 2rem auto;
      background-color: rgba(255, 255, 255, 0.9); /* Slight opacity for readability */
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    /* =======================
       HEADERS & HEADER INFO 
    ======================== */
    h1 {
      text-align: center;
      font-size: 2.8rem; /* Increased font size */
      margin-bottom: 1rem;
    }
    .header-info {
      text-align: center;
      font-size: 1.4rem; /* Increased font size */
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    /* =======================
       FORM & FIELDS 
    ======================== */
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-weight: bold;
      margin-bottom: 0.4rem;
    }
    input, select {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    .section-box {
      border: 2px solid #ccc;
      border-radius: 8px;
      padding: 1rem;
      background-color: #f9fdfc;
      margin-bottom: 1rem;
    }
    fieldset {
      border: none;
      padding: 0;
      margin: 0;
    }
    legend {
      font-size: 1.2rem;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }

    /* =======================
       FLEX ROWS 
    ======================== */
    .row {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .row .field {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* =======================
       ADDRESS & CHECKBOX GROUPS 
    ======================== */
    .address-group label {
      margin-bottom: 0.25rem;
    }
    .address-container {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      white-space: nowrap;
      margin: 1rem 0;
    }
    .checkbox-label {
      display: inline-flex;
      align-items: center;
      margin: 0;
    }

    /* =======================
       PAYPAL BUTTON 
    ======================== */
    .paypal-button {
      text-align: center;
      margin-top: 1rem;
    }
    .paypal-button a {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background-color: #0070ba;
      color: white;
      text-decoration: none;
      font-size: 1rem;
      border-radius: 5px;
    }

    /* =======================
       BUTTONS 
    ======================== */
    button {
      background-color: #28a745;
      color: white;
      padding: 0.75rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      align-self: flex-start;
    }
    button:hover {
      background-color: #218838;
    }

    /* =======================
       SPACING 
    ======================== */
    .child-box label, .parent-box label {
      margin-bottom: 0.4rem;
    }
    .child-box input, .parent-box input {
      margin-bottom: 0.8rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Top Header -->
    <h1>Greenwing Youth Event Registration</h1>
    <div class="header-info">
      <p>Hosted by St. Mary's County Ducks Unlimited</p>
      <p>
        <strong>Date:</strong> June 7th, 8 AM â€“ 2 PM<br>
        <strong>Location:</strong> Sanner's Lake Sportsmen's Club, 21374 Sanner's Lane, Lexington Park, MD 20653<br>
        <strong>Cost:</strong> $20 per child (includes membership and lunch)
      </p>
      <p>Children must be accompanied by an adult.</p>
    </div>

    <!-- Registration Form -->
    <form action="#" method="POST">
      <!-- Parent/Guardian Section with First & Last Name -->
      <fieldset class="section-box parent-box">
        <legend>Parent/Guardian Information</legend>
        <div class="row">
          <div class="field">
            <label for="parentFirstName">First Name:</label>
            <input type="text" id="parentFirstName" name="parentFirstName" required>
          </div>
          <div class="field">
            <label for="parentLastName">Last Name:</label>
            <input type="text" id="parentLastName" name="parentLastName" required>
          </div>
        </div>
        <!-- Parent Address Fields -->
        <div class="address-group">
          <label for="parentStreet">Street Address:</label>
          <input type="text" id="parentStreet" name="parentStreet" required>

          <div class="row">
            <div class="field">
              <label for="parentCity">City:</label>
              <input type="text" id="parentCity" name="parentCity" required>
            </div>
            <div class="field">
              <label for="parentState">State:</label>
              <input type="text" id="parentState" name="parentState" required>
            </div>
            <div class="field">
              <label for="parentZip">Zip Code:</label>
              <input type="text" id="parentZip" name="parentZip" required>
            </div>
          </div>
        </div>

        <label for="email">Email Address:</label>
        <input type="email" id="email" name="email" required>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required>
      </fieldset>

      <!-- Number of Children -->
      <div class="section-box">
        <label for="numChildren">Number of Children Being Registered:</label>
        <input type="number" id="numChildren" name="numChildren" min="1" value="1" required>
      </div>

      <!-- Dynamically Generated Child Sections -->
      <div id="childContainer"></div>

      <!-- Payment Method Dropdown (Updated) -->
      <div class="section-box">
        <label for="paymentMethod">Payment Method:</label>
        <select id="paymentMethod" name="paymentMethod" required>
          <option value="" disabled selected>Select your payment method</option>
          <option value="Pay at Check-in">Pay at Check-in</option>
          <option value="Payed">Payed</option>
          <option value="Pay Now Via PayPal">Pay Now Via PayPal</option>
        </select>
      </div>

      <!-- PayPal Button (Optional) -->
      <div class="paypal-button">
        <a href="https://paypal.me/stmarysdu" target="_blank">Pay via PayPal</a>
      </div>

      <!-- Submit Button -->
      <button type="submit" disabled>Register Now</button>
    </form>
  </div>

  <script>
    /* ============================================================
       HELPER: COPY PARENT ADDRESS INTO CHILD IF CHECKED
       ============================================================ */
    function copyParentAddressToChild(i) {
      const pStreet = document.getElementById('parentStreet').value;
      const pCity   = document.getElementById('parentCity').value;
      const pState  = document.getElementById('parentState').value;
      const pZip    = document.getElementById('parentZip').value;

      const cStreet = document.getElementById(`childStreet_${i}`);
      const cCity   = document.getElementById(`childCity_${i}`);
      const cState  = document.getElementById(`childState_${i}`);
      const cZip    = document.getElementById(`childZip_${i}`);

      cStreet.value = pStreet;
      cCity.value   = pCity;
      cState.value  = pState;
      cZip.value    = pZip;

      cStreet.readOnly = true;
      cCity.readOnly   = true;
      cState.readOnly  = true;
      cZip.readOnly    = true;
    }

    /* ============================================================
       BUILD THE CHILD INFORMATION FIELDSET
       ============================================================ */
    function generateChildBox(i) {
      return `
      <fieldset class="section-box child-box">
        <legend>Child Information - Child ${i}</legend>
        
        <div class="row">
          <div class="field">
            <label for="childFirstName_${i}">First Name:</label>
            <input type="text" id="childFirstName_${i}" name="childFirstName_${i}" required>
          </div>
          <div class="field">
            <label for="childLastName_${i}">Last Name:</label>
            <input type="text" id="childLastName_${i}" name="childLastName_${i}" required>
          </div>
        </div>
        
        <div class="row">
          <div class="field">
            <label for="dob_${i}">Date of Birth (MM/YYYY):</label>
            <input type="text" id="dob_${i}" name="dob_${i}" placeholder="MM/YYYY"
                   pattern="^(0[1-9]|1[0-2])\\/\\d{4}$"
                   title="Enter a valid date in MM/YYYY format (e.g., 05/2023)"
                   maxlength="7" required>
          </div>
          <div class="field">
            <label for="age_${i}">Age:</label>
            <input type="number" id="age_${i}" name="age_${i}" min="1" required>
          </div>
        </div>
        
        <!-- DIFFERENT ADDRESS CHECKBOX AND CONDITIONAL FIELDS -->
        <div class="address-container">
          <label class="checkbox-label" for="childDiffAddrCheckbox_${i}">
            <input type="checkbox" id="childDiffAddrCheckbox_${i}" name="childDiffAddrCheckbox_${i}">
            Child has a different address than Parent/Guardian
          </label>
        </div>
        <div id="childAddressContainer_${i}" style="display: none;">
          <div class="address-group">
            <label for="childStreet_${i}">Street Address:</label>
            <input type="text" id="childStreet_${i}" name="childStreet_${i}">
            <div class="row">
              <div class="field">
                <label for="childCity_${i}">City:</label>
                <input type="text" id="childCity_${i}" name="childCity_${i}">
              </div>
              <div class="field">
                <label for="childState_${i}">State:</label>
                <input type="text" id="childState_${i}" name="childState_${i}">
              </div>
              <div class="field">
                <label for="childZip_${i}">Zip Code:</label>
                <input type="text" id="childZip_${i}" name="childZip_${i}">
              </div>
            </div>
          </div>
        </div>
      </fieldset>
      `;
    }

    /* ============================================================
       RENDER CHILD BOXES BASED ON numChildren
       ============================================================ */
    function updateChildBoxes() {
      const container = document.getElementById('childContainer');
      const num = parseInt(document.getElementById('numChildren').value) || 0;
      container.innerHTML = ''; // Clear existing sections

      for (let i = 1; i <= num; i++) {
        container.innerHTML += generateChildBox(i);

        // Auto-insert "/" in the child's DOB field.
        let dobInput = document.getElementById(`dob_${i}`);
        dobInput.addEventListener('input', function() {
          let val = this.value;
          if (val.length === 2 && !val.includes('/')) {
            this.value = val + '/';
          }
        });

        // "Different Address" checkbox event.
        document.getElementById(`childDiffAddrCheckbox_${i}`).addEventListener('change', function() {
          const addrContainer = document.getElementById(`childAddressContainer_${i}`);
          const street = document.getElementById(`childStreet_${i}`);
          const city = document.getElementById(`childCity_${i}`);
          const state = document.getElementById(`childState_${i}`);
          const zip = document.getElementById(`childZip_${i}`);
          if (this.checked) {
            addrContainer.style.display = "block";
            street.setAttribute("required", "required");
            city.setAttribute("required", "required");
            state.setAttribute("required", "required");
            zip.setAttribute("required", "required");
          } else {
            addrContainer.style.display = "none";
            street.removeAttribute("required");
            city.removeAttribute("required");
            state.removeAttribute("required");
            zip.removeAttribute("required");
          }
        });
      }
    }

    /* ============================================================
       INITIALIZATION AFTER DOM LOADS & FORM VALIDATION
       ============================================================ */
    document.addEventListener("DOMContentLoaded", function() {
      updateChildBoxes();
      document.getElementById('numChildren').addEventListener('input', updateChildBoxes);

      const formElement = document.querySelector('form');
      const submitButton = document.querySelector('button[type="submit"]');
      formElement.addEventListener('input', function() {
          submitButton.disabled = !formElement.checkValidity();
      });
      submitButton.disabled = !formElement.checkValidity();
    });
  </script>
</body>
</html>
